{"version":3,"sources":["app.js"],"names":["$","length","rangeslider","polyfill","onInit","getCalcSumm","onSlide","position","value","number","sum1","sum2","sum3","sum1Text","data","eq","text","sum2Text","sum3Text","editSum","sum","sumText","replace","slick","slidesToShow","responsive","breakpoint","settings","webshim","setOptions","lazyCustomMessages","replaceValidationUI","phoneLink","md","MobileDetect","window","navigator","userAgent","mobile","attr","removeClass","console","log","addClass","body","name","inputmask","greedy","on","e","preventDefault","self","target","hasClass","location","id","animate","scrollTop","offset","top","wl","callbacks","onFormSubmit","$form","res","status","selfName","find","selfPhone","selfEmail","formData","serialize","val","localStorage","setItem","def","submit","when","ajax","type","url","success","getItem"],"mappings":"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","file":"app.js","sourcesContent":["$(function() {\r\n\r\n    if ($('input[type=\"range\"]').length) {\r\n        $('input[type=\"range\"]').rangeslider({\r\n            polyfill: false,\r\n\r\n            onInit: function() {\r\n                getCalcSumm(1)\r\n            },\r\n\r\n            onSlide: function(position, value) {\r\n                getCalcSumm(value)\r\n            },\r\n\r\n\r\n        });\r\n    }\r\n\r\n    function getCalcSumm(value) {\r\n\r\n        var number = $(\".calc__value-number\");\r\n\r\n        var sum1 = $(\"#sum1\");\r\n        var sum2 = $(\"#sum2\");\r\n        var sum3 = $(\"#sum3\");\r\n\r\n        var sum1Text = sum1.data(\"sum\") * +number.eq(value - 1).text();\r\n        var sum2Text = sum1Text * +sum2.data(\"coef\");\r\n        var sum3Text = +sum1Text - +sum2Text;\r\n\r\n        function editSum(sum, sumText) {\r\n            sum.text(( \"\" + sumText).replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 '));\r\n        }\r\n\r\n        editSum(sum1, sum1Text);\r\n        editSum(sum2, sum2Text);\r\n        editSum(sum3, sum3Text);\r\n    }\r\n\r\n    $(\".sec10__gallery\").slick({\r\n        slidesToShow: 3,\r\n        responsive: [\r\n            {\r\n                breakpoint: 1024,\r\n                settings: {\r\n                    slidesToShow: 2\r\n                }\r\n            },\r\n            {\r\n                breakpoint: 768,\r\n                settings: {\r\n                    slidesToShow: 1\r\n                }\r\n            },\r\n        ]\r\n    });\r\n\r\n    webshim.setOptions('forms', {\r\n        lazyCustomMessages: true,\r\n        replaceValidationUI: true\r\n    });\r\n    webshim.polyfill('forms');\r\n\r\n    function phoneLink() {\r\n        var md = new MobileDetect(window.navigator.userAgent);\r\n        var phoneLink = $(\"[data-phone]\");\r\n\r\n        if (md.mobile()) {\r\n            phoneLink.attr(\"href\", \"tel:\" + $(\".phone-link\").data(\"phone\"));\r\n            phoneLink.removeClass(\"js-small-btn\");\r\n            console.log(\"mobile\")\r\n        } else {\r\n            phoneLink.attr(\"href\", \"\");\r\n            phoneLink.addClass(\"js-small-btn\");\r\n            console.log(\"pc\")\r\n        }\r\n    }\r\n    phoneLink();\r\n\r\n    // form handler\r\n    var body = $(\"body\");\r\n    var name;\r\n\r\n    $(\"input[name=phone]\").inputmask({\r\n        \"mask\": \"+9(999)999-9999\",\r\n        greedy: false,\r\n    });\r\n\r\n    body.on(\"click\", \".js-small-btn\", function(e) {\r\n        e.preventDefault();\r\n\r\n        if (!$(\".thanks\").length) {\r\n            $(\"html\").addClass(\"form-open\");\r\n            $(\".form-wrap_small\").addClass(\"form-wrap_open\");\r\n        }\r\n    });\r\n\r\n    body.on(\"click\", function(e) {\r\n        var self = $(e.target);\r\n        \r\n        if (self.hasClass(\"form-wrap_small\") || self.hasClass(\"form__close\")){\r\n            $(\"html\").removeClass(\"form-open\");\r\n            $(\".form-wrap\").removeClass(\"form-wrap_open\");\r\n        } else if(self.hasClass(\"form-wrap_big\")) {\r\n            location = \"thanks.html\";\r\n        }\r\n    });\r\n\r\n    body.on(\"click\", \".js-anchor-link\", function(e) {\r\n        e.preventDefault();\r\n        var self = $(this);\r\n        var id = self.attr(\"href\");\r\n\r\n        $(\"html,body\").animate({\r\n            scrollTop: $(id).offset().top,\r\n        }, 500);\r\n    });\r\n\r\n    if (typeof wl != \"undefined\") {\r\n        wl.callbacks.onFormSubmit = function ($form, res) {\r\n            if ($form.data('next')) {\r\n            \r\n                if(res.status == 200) {\r\n                    $(\".form-wrap_open\").removeClass(\"form-wrap_open\");\r\n\r\n                    var selfName = $form.find(\"input[name=name]\");\r\n                    var selfPhone = $form.find(\"input[name=phone]\");\r\n                    var selfEmail = $form.find(\"input[name=email]\");\r\n                    var formData = $form.serialize();\r\n                    console.log(formData);\r\n\r\n                    $(\"[name=name1]\").val(selfName.val());\r\n                    $(\"[name=phone1]\").val(selfPhone.val());\r\n                    $(\"[name=email1]\").val(selfEmail.val());\r\n                    \r\n                    $(\"html\").addClass(\"form-open\");\r\n                    $(\".form-wrap_big\").addClass(\"form-wrap_open\");\r\n\r\n                    name = selfName.val();\r\n\r\n                    if (name) {\r\n                        localStorage.setItem(\"landclientname\", name + \", наши\");\r\n                    } else {\r\n                        localStorage.setItem(\"landclientname\", \"Наши\");\r\n                    }\r\n                } else {  \r\n                    wl.callbacks.def.onFormSubmit($form, res);\r\n                }\r\n            } else {\r\n                location = \"thanks.html\";\r\n            }\r\n        };\r\n    } else {\r\n        $(\"#smallForm, #bottomForm, #bottomFormSecond\").submit(function(e) {\r\n            e.preventDefault();\r\n            $(\".form-wrap_open\").removeClass(\"form-wrap_open\");\r\n\r\n            var self = $(this);\r\n            var selfName = self.find(\"input[name=name]\");\r\n            var selfPhone = self.find(\"input[name=phone]\");\r\n            var selfEmail = self.find(\"input[name=email]\");\r\n            var formData = self.serialize();\r\n            console.log(formData);\r\n\r\n            $(\"[name=name1]\").val(selfName.val());\r\n            $(\"[name=phone1]\").val(selfPhone.val());\r\n            $(\"[name=email1]\").val(selfEmail.val());\r\n\r\n            $.when(\r\n                $.ajax({\r\n                    type: \"POST\",\r\n                    url: \"php/send.php\",\r\n                    data: formData,\r\n                    success: function(data) {\r\n                        \r\n                    }\r\n                }),\r\n\r\n                // $.ajax({\r\n                //     type: \"POST\",\r\n                //     url: \"php/sendwe.php\",\r\n                //     data: formData,\r\n                //     success: function(data) {\r\n                        \r\n                //     }\r\n                // })\r\n            );\r\n            \r\n\r\n            $(\"html\").addClass(\"form-open\");\r\n            $(\".form-wrap_big\").addClass(\"form-wrap_open\");\r\n\r\n            name = selfName.val();\r\n\r\n            if (name) {\r\n                localStorage.setItem(\"landclientname\", name + \", наши\");\r\n            } else {\r\n                localStorage.setItem(\"landclientname\", \"Наши\");\r\n            }\r\n        });\r\n\r\n        $(\"#bigForm\").submit(function(e) {\r\n            e.preventDefault();\r\n\r\n            var self = $(this);\r\n            var formData = self.serialize();\r\n\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: \"php/sendpresent.php\",\r\n                data: formData,\r\n                success: function(data) {\r\n                    location = \"thanks.html\";\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    if ($(\"#thanksName\").length) {\r\n        $(\"#thanksName\").text(localStorage.getItem(\"landclientname\"));\r\n    };\r\n\r\n    $(window).on(\"resize\", function() {\r\n        \r\n    })\r\n});"]}